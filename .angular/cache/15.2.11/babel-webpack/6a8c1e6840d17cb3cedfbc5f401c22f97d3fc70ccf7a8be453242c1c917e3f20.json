{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/students.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"primeng/dropdown\";\nimport * as i5 from \"primeng/button\";\nimport * as i6 from \"primeng/inputtext\";\nfunction AddStudentComponent_small_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 17);\n    i0.ɵɵtext(1, \"Name is Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddStudentComponent_small_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 17);\n    i0.ɵɵtext(1, \"Address is Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddStudentComponent_small_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 17);\n    i0.ɵɵtext(1, \"School is Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddStudentComponent_small_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 17);\n    i0.ɵɵtext(1, \"Grade is Required\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddStudentComponent {\n  constructor(fb, studentService) {\n    this.fb = fb;\n    this.studentService = studentService;\n    this.backEnable = true;\n    this.grades = [];\n    this.change = false;\n    this.diableButton = false;\n    this.AddSubject = new EventEmitter();\n    this.formStud = this.fb.group({\n      name: ['', Validators.required],\n      address: ['', Validators.required],\n      school: ['', Validators.required],\n      grade: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    console.log(\"11\");\n    this.studentService.getGrades().subscribe(grades => {\n      this.grades = grades.data;\n    }, error => {\n      console.log(error);\n    });\n  }\n  changeGrade(event) {\n    console.log(event.value);\n    this.selectedGrade = event.value;\n    this.change = true;\n  }\n  Complete() {\n    if (!this.formStud.valid) {\n      return;\n    }\n    console.log('Student Added');\n    this.formStud.disable();\n    this.studentService.student = this.formStud.value;\n    this.backEnable = false;\n    console.log(\"this.selectedGrade\", this.selectedGrade);\n    this.studentService.setGradeId(this.selectedGrade);\n    if (this.change) this.studentService.mySubject.next(this.selectedGrade);\n    this.studentService.diableSubjectForm.next(false);\n    this.AddSubject.emit(true);\n    this.change = false;\n  }\n  Back() {\n    this.backEnable = true;\n    this.formStud.enable();\n    this.studentService.diableSubjectForm.next(true);\n  }\n  static {\n    this.ɵfac = function AddStudentComponent_Factory(t) {\n      return new (t || AddStudentComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.StudentsService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AddStudentComponent,\n      selectors: [[\"app-add-student\"]],\n      outputs: {\n        AddSubject: \"AddSubject\"\n      },\n      decls: 36,\n      vars: 12,\n      consts: [[1, \"container\", \"mt-5\", 3, \"formGroup\"], [1, \"row\", \"mb-3\"], [\"for\", \"name\", 1, \"col-sm-2\", \"col-form-label\"], [1, \"col-sm-10\"], [\"type\", \"text\", \"id\", \"name\", \"pInputText\", \"\", \"formControlName\", \"name\", \"placeholder\", \"Enter Name...\", 1, \"form-control\"], [\"class\", \"p-error block\", 4, \"ngIf\"], [\"for\", \"address\", 1, \"col-sm-2\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"address\", \"pInputText\", \"\", \"formControlName\", \"address\", \"placeholder\", \"Enter Address...\", 1, \"form-control\"], [1, \"field\", \"row\", \"mb-3\"], [\"for\", \"school\", 1, \"col-sm-2\", \"col-form-label\"], [\"type\", \"text\", \"id\", \"school\", \"pInputText\", \"\", \"formControlName\", \"school\", \"placeholder\", \"Enter School Name...\", 1, \"form-control\"], [\"for\", \"GradeId\", 1, \"col-sm-2\", \"col-form-label\"], [\"optionLabel\", \"name\", \"optionValue\", \"id\", \"formControlName\", \"grade\", \"placeholder\", \"Select a Grade\", 1, \"form-control\", \"p-dropdown\", 3, \"options\", \"ngModel\", \"editable\", \"showClear\", \"filter\", \"ngModelChange\", \"onChange\"], [1, \"row\"], [1, \"col-sm-2\"], [\"label\", \"Complete\", 1, \"btn\", \"btn-primary\", \"w-100\", 3, \"disabled\", \"click\"], [\"label\", \"Back\", 1, \"btn\", \"btn-primary\", \"w-100\", 3, \"disabled\", \"click\"], [1, \"p-error\", \"block\"]],\n      template: function AddStudentComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"label\", 2);\n          i0.ɵɵtext(3, \"Name\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵelement(5, \"input\", 4)(6, \"br\");\n          i0.ɵɵtemplate(7, AddStudentComponent_small_7_Template, 2, 0, \"small\", 5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(8, \"div\", 1)(9, \"label\", 6);\n          i0.ɵɵtext(10, \"Address\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"div\", 3);\n          i0.ɵɵelement(12, \"input\", 7)(13, \"br\");\n          i0.ɵɵtemplate(14, AddStudentComponent_small_14_Template, 2, 0, \"small\", 5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"div\", 8)(16, \"label\", 9);\n          i0.ɵɵtext(17, \"School\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 3);\n          i0.ɵɵelement(19, \"input\", 10)(20, \"br\");\n          i0.ɵɵtemplate(21, AddStudentComponent_small_21_Template, 2, 0, \"small\", 5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(22, \"div\", 1)(23, \"label\", 11);\n          i0.ɵɵtext(24, \"Grade\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"div\", 3)(26, \"p-dropdown\", 12);\n          i0.ɵɵlistener(\"ngModelChange\", function AddStudentComponent_Template_p_dropdown_ngModelChange_26_listener($event) {\n            return ctx.selectedGrade = $event;\n          })(\"onChange\", function AddStudentComponent_Template_p_dropdown_onChange_26_listener($event) {\n            return ctx.changeGrade($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(27, \"br\");\n          i0.ɵɵtemplate(28, AddStudentComponent_small_28_Template, 2, 0, \"small\", 5);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(29, \"br\");\n          i0.ɵɵelementStart(30, \"div\", 13);\n          i0.ɵɵelement(31, \"div\", 14);\n          i0.ɵɵelementStart(32, \"div\", 3)(33, \"p-button\", 15);\n          i0.ɵɵlistener(\"click\", function AddStudentComponent_Template_p_button_click_33_listener() {\n            return ctx.Complete();\n          });\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelement(34, \"br\");\n          i0.ɵɵelementStart(35, \"p-button\", 16);\n          i0.ɵɵlistener(\"click\", function AddStudentComponent_Template_p_button_click_35_listener() {\n            return ctx.Back();\n          });\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"formGroup\", ctx.formStud);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.formStud.controls[\"name\"].invalid && ctx.formStud.controls[\"name\"].dirty);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.formStud.controls[\"address\"].invalid && ctx.formStud.controls[\"address\"].dirty);\n          i0.ɵɵadvance(7);\n          i0.ɵɵproperty(\"ngIf\", ctx.formStud.controls[\"school\"].invalid && ctx.formStud.controls[\"school\"].dirty);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"options\", ctx.grades)(\"ngModel\", ctx.selectedGrade)(\"editable\", true)(\"showClear\", true)(\"filter\", true);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ctx.formStud.controls[\"grade\"].invalid && ctx.formStud.controls[\"grade\"].dirty);\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"disabled\", !ctx.formStud.valid);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.backEnable);\n        }\n      },\n      dependencies: [i3.NgIf, i4.Dropdown, i5.Button, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i6.InputText],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["EventEmitter","Validators","i0","AddStudentComponent","constructor","fb","studentService","group","name","required","address","school","grade","ngOnInit","console","log","getGrades","subscribe","grades","data","error","changeGrade","event","value","selectedGrade","change","Complete","formStud","valid","disable","student","backEnable","setGradeId","mySubject","next","diableSubjectForm","AddSubject","emit","Back","enable","selectors","outputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Khaled\\Angular-Projects\\MultiScreen-Primeng\\src\\app\\students\\components\\add-student\\add-student.component.ts","D:\\Khaled\\Angular-Projects\\MultiScreen-Primeng\\src\\app\\students\\components\\add-student\\add-student.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { StudentsService } from '../../services/students.service';\nimport { Grade } from '../../models/Grade';\n\n@Component({\n  selector: 'app-add-student',\n  templateUrl: './add-student.component.html',\n  styleUrls: ['./add-student.component.css']\n})\nexport class AddStudentComponent implements OnInit{\n  backEnable:boolean = true;\n  grades:Grade[]=[];\n  selectedGrade:any;\n  change:boolean = false;\n  diableButton:boolean = false;\n  @Output() AddSubject:EventEmitter<boolean> = new EventEmitter<boolean>();\n  constructor(private fb:FormBuilder,private studentService:StudentsService){}\n  ngOnInit()\n  {\n    console.log(\"11\")\n    this.studentService.getGrades().subscribe(grades=>{\n      this.grades = grades.data;\n    },error=>{\n      console.log(error)\n    });\n  }\n  formStud = this.fb.group({\n    name:['', Validators.required],\n    address:['',Validators.required],\n    school:['',Validators.required],\n    grade:['',Validators.required],\n  })\n  changeGrade(event:any)\n  {\n    console.log(event.value);\n    this.selectedGrade = event.value;\n    this.change = true;\n  }\n  Complete(){\n    if (!this.formStud.valid) {\n      return; \n  }\n    console.log('Student Added')\n    this.formStud.disable();\n    this.studentService.student = this.formStud.value;\n    this.backEnable = false;\n    console.log(\"this.selectedGrade\",this.selectedGrade);\n    this.studentService.setGradeId(this.selectedGrade);\n    if(this.change)\n      this.studentService.mySubject.next(this.selectedGrade);\n    this.studentService.diableSubjectForm.next(false);\n\n    this.AddSubject.emit(true);\n    this.change = false;\n  }\n  Back(){\n    this.backEnable = true;\n\n    this.formStud.enable();\n    this.studentService.diableSubjectForm.next(true);\n  }\n\n\n}\n","<form [formGroup]=\"formStud\" class=\"container mt-5\">\n    <!-- Title Field -->\n    <div class=\"row mb-3\">\n        <label for=\"name\" class=\"col-sm-2 col-form-label\">Name</label>\n        <div class=\"col-sm-10\">\n                <input type=\"text\" class=\"form-control\" id=\"name\" pInputText formControlName=\"name\" placeholder=\"Enter Name...\"/>\n            <br>\n            <small class=\"p-error block\" \n                *ngIf=\"formStud.controls['name'].invalid &&\n                formStud.controls['name'].dirty\">Name is Required</small>\n        </div>\n    </div>\n\n    <!-- Address Field -->\n    <div class=\"row mb-3\">\n        <label for=\"address\" class=\"col-sm-2 col-form-label\">Address</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" id=\"address\" pInputText formControlName=\"address\" placeholder=\"Enter Address...\"/>\n            <br>\n            <small class=\"p-error block\" \n                *ngIf=\"formStud.controls['address'].invalid &&\n                formStud.controls['address'].dirty\">Address is Required</small>\n\n        </div>\n    </div>\n\n    <!-- School Field -->\n    <div class=\"field row mb-3\">\n        <label for=\"school\" class=\"col-sm-2 col-form-label\">School</label>\n        <div class=\"col-sm-10\">\n            <input type=\"text\" class=\"form-control\" id=\"school\" pInputText formControlName=\"school\" placeholder=\"Enter School Name...\"/>\n            <br>\n            <small class=\"p-error block\" \n                *ngIf=\"formStud.controls['school'].invalid &&\n                formStud.controls['school'].dirty\">School is Required</small>\n        </div>\n    </div>\n\n    <!-- Grade Dropdown -->\n    <div class=\"row mb-3\">\n        <label for=\"GradeId\" class=\"col-sm-2 col-form-label\">Grade</label>\n        <div class=\"col-sm-10\">\n            <p-dropdown \n                [options]=\"grades\" \n                [(ngModel)]=\"selectedGrade\" \n                optionLabel=\"name\"\n                optionValue=\"id\" \n                formControlName=\"grade\"\n                placeholder=\"Select a Grade\" \n                (onChange)=\"changeGrade($event)\" \n                [editable]=\"true\" \n                [showClear]=\"true\" \n                [filter]=\"true\" \n                class=\"form-control p-dropdown\"\n                >\n            </p-dropdown>\n            <br>\n            <small class=\"p-error block\" \n            *ngIf=\"formStud.controls['grade'].invalid &&\n            formStud.controls['grade'].dirty\">Grade is Required</small>\n\n        </div>\n    </div>\n\n    <!-- Add Student Button -->\n     <br>\n    <div class=\"row\">\n        <div class=\"col-sm-2\"></div>\n        <div class=\"col-sm-10\">\n            <p-button (click)=\"Complete()\" label=\"Complete\" [disabled]=\"!formStud.valid\" class=\"btn btn-primary w-100\"></p-button>\n        </div>\n    </div>\n</form>\n<br>\n<p-button (click)=\"Back()\" label=\"Back\" [disabled]=\"backEnable\" class=\"btn btn-primary w-100\"></p-button>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}